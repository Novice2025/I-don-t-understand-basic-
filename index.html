<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>NEXTATION â€“ I donâ€™t understand Â· Could you repeat, please?</title>
  <style>
    :root {
      /* Core backgrounds (from NEXTATION WEBSITE â€” COLOUR SYSTEM) */
      --bg-main: #02030b; /* Page background */
      --bg-gradient: radial-gradient(circle at top, #1c1f3b 0%, #050716 45%, #02030b 100%);
      /* Surfaces / Cards */
      --card-bg: rgba(15, 18, 40, 0.92); /* Lesson panels */
      --card-soft-bg: rgba(18, 21, 50, 0.88); /* Tab cards and navigation buttons */
      /* Neon accents */
      --accent-cyan: #4ef2ff;  /* Cyan highlight */
      --accent-pink: #ff2f92;  /* Magenta buttons */
      --accent-green: #4dff9b; /* Success / completed */
      --accent-yellow: #ffe25f;/* Accent in text gradients */
      --accent-purple: #aa5dff;/* Hover glows / edges */
      /* Text and borders */
      --muted: rgba(255,255,255,0.65);
      --border-glow: rgba(120,120,255,0.45);
      /* Shadows */
      --shadow-strong: 0 0 36px rgba(130,80,255,0.6);
      --shadow-soft: 0 0 20px rgba(0,0,0,0.65);
      /* Radii and transitions */
      --radius-lg: 22px;
      --radius-md: 16px;
      --radius-sm: 10px;
      --transition-fast: 0.18s ease-out;
      --transition-med: 0.28s ease-out;
    }

    * { box-sizing: border-box; margin:0; padding:0; }
    body{
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: var(--bg-gradient);
      color:#fff;
      min-height:100vh;
      padding:24px;
      display:flex;
      justify-content:center;
    }
    .app{ max-width:1100px; width:100%; }

    /* HEADER */
    .neon-header{
      position:relative;
      padding:18px 22px 14px;
      border-radius:var(--radius-lg);
      background:rgba(3,5,20,0.9);
      box-shadow:var(--shadow-soft);
      border:1px solid var(--border-glow);
      margin-bottom:20px;
      overflow:hidden;
    }
    .neon-header::before{
      content:"";
      position:absolute;
      inset:-1px;
      background:linear-gradient(90deg,#00f5ff,#ff2f92,#ffe25f,#4dff9b);
      opacity:0.5;
      mix-blend-mode:screen;
      pointer-events:none;
      z-index:-1;
    }
    .header-main{
      display:flex;
      align-items:center;
      gap:18px;
    }
    .teacher-orb{
      width:64px;
      height:64px;
      border-radius:50%;
      background:radial-gradient(circle,#ffffff 0%,#00fff0 35%,#ff2f92 70%,#02030b 100%);
      box-shadow:0 0 24px rgba(0,255,255,0.7),0 0 32px rgba(255,0,160,0.55);
      flex-shrink:0;
    }
    .brand-title{
      font-size:1.4rem;
      background:linear-gradient(90deg,#4ef2ff,#ff2f92);
      -webkit-background-clip:text;
      background-clip:text;
      color:transparent;
      font-weight:700;
      letter-spacing:0.06em;
      text-transform:uppercase;
    }
    .brand-sub{
      color:var(--muted);
      font-size:0.9rem;
      margin-top:2px;
    }
    .lesson-title{
      margin-top:10px;
      font-size:1.25rem;
      color:var(--accent-cyan);
      text-shadow:0 0 12px rgba(78,242,255,0.5);
    }
    .controls-row{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin-top:10px;
      font-size:0.9rem;
    }
    .small-btn{
      padding:6px 12px;
      border-radius:999px;
      border:1px dashed rgba(255,255,255,0.35);
      background:transparent;
      color:#fff;
      cursor:pointer;
      font-size:0.8rem;
      display:inline-flex;
      align-items:center;
      gap:6px;
      transition:
        transform var(--transition-fast),
        box-shadow var(--transition-fast),
        border-color var(--transition-fast),
        background var(--transition-fast);
    }
    .small-btn:hover{
      transform:scale(1.03);
      border-color:var(--accent-cyan);
      box-shadow:0 0 16px rgba(78,242,255,0.5);
      background:rgba(4,10,40,0.9);
    }

    /* TABS */
    .tabs{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin:18px 0 16px;
    }
    .tab{
      position:relative;
      padding:9px 14px;
      border-radius:var(--radius-md);
      background:radial-gradient(circle at top,rgba(255,255,255,0.09),rgba(7,10,28,0.96));
      border:1px solid rgba(130,140,200,0.4);
      color:#fff;
      font-size:0.9rem;
      cursor:pointer;
      transition:all var(--transition-fast);
    }
    .tab span.icon{ margin-right:6px; }
    .tab:hover{
      border-color:rgba(120,120,255,0.6);
      box-shadow:0 0 20px rgba(120,120,255,0.35);
    }
    .tab.active{
      background:radial-gradient(circle at top,rgba(255,255,255,0.15),rgba(21,13,51,0.98));
      border-color:rgba(103,255,196,0.9);
      box-shadow:0 0 24px rgba(79,255,204,0.55);
    }
    .tab.completed::after{
      content:"âœ“";
      position:absolute;
      top:-6px;
      right:-6px;
      width:18px;
      height:18px;
      border-radius:50%;
      background:var(--accent-green);
      color:#02030b;
      font-size:0.7rem;
      display:flex;
      align-items:center;
      justify-content:center;
      box-shadow:0 0 10px rgba(77,255,179,0.9);
    }

    /* CARD SURFACE */
    .card{
      position:relative;
      border-radius:var(--radius-lg);
      background:linear-gradient(135deg, rgba(13,16,40,0.98), rgba(6,8,26,0.98));
      padding:20px 22px 22px;
      border:1px solid rgba(120,120,255,0.32);
      box-shadow:var(--shadow-soft);
      overflow:hidden;
      min-height:260px;
    }
    .card::before{
      content:"";
      position:absolute;
      top:-40%;
      left:-20%;
      width:280px;
      height:280px;
      background:radial-gradient(circle at top left, rgba(87,57,255,0.35), transparent 58%);
      pointer-events:none;
    }
    .card-inner{ position:relative; z-index:1; }

    /* TYPOGRAPHY / ELEMENTS */
    h2.section-title{
      font-size:1.1rem;
      color:var(--accent-cyan);
      margin-bottom:4px;
    }
    .section-sub{
      font-size:0.9rem;
      color:var(--muted);
      margin-bottom:12px;
      line-height:1.6;
    }
    .highlight-expression{
      display:inline-flex;
      flex-wrap:wrap;
      align-items:center;
      gap:8px;
      padding:8px 12px;
      border-radius:999px;
      background:linear-gradient(120deg, var(--accent-yellow), var(--accent-pink), var(--accent-cyan));
      color:#050618;
      font-weight:700;
      margin:8px 0 12px;
    }
    .pill-tag{
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding:5px 10px;
      border-radius:999px;
      background:linear-gradient(90deg,rgba(0,0,0,0.75),rgba(28,32,80,0.95));
      border:1px solid rgba(78,242,255,0.6);
      font-size:0.8rem;
      color:#fff;
    }
    .play-btn{
      padding:4px 10px;
      border-radius:999px;
      border:1px dashed rgba(255,255,255,0.35);
      background:transparent;
      color:#fff;
      font-size:0.75rem;
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      gap:5px;
      margin-left:6px;
      transition:all var(--transition-fast);
    }
    .play-btn:hover{
      border-color:var(--accent-cyan);
      box-shadow:0 0 14px rgba(78,242,255,0.5);
      transform:scale(1.03);
    }
    .sub-block{
      background:var(--card-soft-bg);
      border-radius:var(--radius-md);
      border:1px solid rgba(120,120,255,0.45);
      padding:10px 12px 10px;
      margin-bottom:10px;
    }
    .sub-title{
      font-size:0.95rem;
      color:var(--accent-yellow);
      margin-bottom:4px;
      font-weight:600;
    }
    .example-en{
      font-size:0.92rem;
      line-height:1.7;
      margin-top:4px;
    }
    .example-pt{
      font-size:0.86rem;
      color:var(--muted);
      margin-top:2px;
      line-height:1.6;
    }
    .good{ color:#7dffa7; font-weight:600; }
    .bad{ color:#ff7b7b; font-weight:600; }

    .two-cols{
      display:grid;
      grid-template-columns:minmax(0,1.1fr) minmax(0,1fr);
      gap:14px;
      margin-top:10px;
    }

    textarea{
      width:100%;
      min-height:120px;
      border-radius:var(--radius-md);
      border:1px solid rgba(120,120,255,0.6);
      background:rgba(5,7,20,0.95);
      color:#fff;
      padding:10px;
      font-family:inherit;
      font-size:0.9rem;
      resize:vertical;
      outline:none;
      box-shadow:0 0 10px rgba(0,0,0,0.5) inset;
    }
    textarea:focus{
      border-color:var(--accent-cyan);
      box-shadow:0 0 16px rgba(78,242,255,0.5);
    }
    .char-counter{
      font-size:0.78rem;
      color:var(--muted);
      margin-top:3px;
      text-align:right;
    }

    .footer-nav{
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-top:16px;
      gap:10px;
      flex-wrap:wrap;
    }
    .primary-btn,.secondary-btn{
      padding:7px 16px;
      border-radius:999px;
      font-size:0.88rem;
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      gap:6px;
      border:1px solid rgba(130,140,200,0.7);
      background:var(--card-soft-bg);
      color:#fff;
      transition:all var(--transition-fast);
    }
    .primary-btn{
      background:linear-gradient(135deg, var(--accent-pink), var(--accent-cyan));
      color:#050618;
      border:none;
      font-weight:600;
    }
    .secondary-btn:hover{
      border-color:var(--accent-cyan);
      box-shadow:0 0 16px rgba(78,242,255,0.4);
      transform:translateY(-1px);
    }
    .primary-btn:hover{
      box-shadow:0 0 22px rgba(255,47,146,0.6);
      transform:translateY(-1px);
    }

    .export-bar{
      margin-top:12px;
      font-size:0.85rem;
      color:var(--muted);
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      align-items:center;
    }

    .footer-meta{
      margin-top:10px;
      font-size:0.78rem;
      color:var(--muted);
    }
    .brand{
      color:var(--accent-cyan);
      font-weight:600;
    }

    .practice-row{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin-top:10px;
      align-items:flex-start;
    }
    .record-btn{
      padding:8px 14px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,0.5);
      background:rgba(60,8,30,0.9);
      color:#fff;
      font-size:0.85rem;
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      gap:8px;
      transition:all var(--transition-fast);
    }
    .record-btn.recording{
      background:radial-gradient(circle,#ff1744,#b71c1c);
      box-shadow:0 0 20px rgba(255,23,68,0.9);
      border-color:#ff8a80;
    }
    .record-btn span:first-child{
      font-size:1rem;
    }
    .audio-wrapper{
      flex:1;
      min-width:220px;
      background:rgba(5,8,25,0.95);
      border-radius:var(--radius-md);
      border:1px dashed rgba(130,140,200,0.7);
      padding:8px 10px;
      font-size:0.84rem;
      color:var(--muted);
    }
    .delete-btn{
      margin-top:6px;
      padding:4px 10px;
      border-radius:999px;
      border:1px solid #c62828;
      background:transparent;
      color:#ff8a80;
      font-size:0.78rem;
      cursor:pointer;
      transition:all var(--transition-fast);
    }
    .delete-btn:hover{
      background:rgba(198,40,40,0.3);
      box-shadow:0 0 14px rgba(198,40,40,0.7);
    }

    @media (max-width:768px){
      body{ padding:14px; }
      .two-cols{ grid-template-columns:1fr; }
    }
  </style>
</head>
<body>
<div class="app">
  <!-- HEADER -->
  <header class="neon-header">
    <div class="header-main">
      <div class="teacher-orb"></div>
      <div>
        <div class="brand-title">NEXTATION</div>
        <div class="brand-sub">Futuristic English for Brazilian brains ğŸ§ âœ¨</div>
        <div class="lesson-title">
          â€œI donâ€™t understandâ€ Â· â€œCould you repeat, please?â€ Â· â€œRepeat, please.â€
        </div>
      </div>
    </div>

    <div class="controls-row">
      <button class="small-btn" onclick="window.print()">ğŸ“„ Exportar em PDF</button>
      <button class="small-btn" onclick="speak('I don\\'t understand. Could you repeat, please?')">
        ğŸ”Š Ouvir frase principal
      </button>
    </div>
  </header>

  <!-- TABS -->
  <div class="tabs">
    <button class="tab active" data-tab="overview" onclick="showTab('overview')">
      <span class="icon">ğŸ“Œ</span> Overview
    </button>
    <button class="tab" data-tab="why" onclick="showTab('why')">
      <span class="icon">ğŸ§ </span> Why / Por quÃª
    </button>
    <button class="tab" data-tab="patterns" onclick="showTab('patterns')">
      <span class="icon">ğŸ§©</span> Patterns
    </button>
    <button class="tab" data-tab="situations" onclick="showTab('situations')">
      <span class="icon">ğŸ¬</span> Real-life
    </button>
    <button class="tab" data-tab="tone" onclick="showTab('tone')">
      <span class="icon">ğŸ­</span> Tone
    </button>
    <button class="tab" data-tab="write" onclick="showTab('write')">
      <span class="icon">âœï¸</span> Writing
    </button>
    <button class="tab" data-tab="practice" onclick="showTab('practice')">
      <span class="icon">ğŸ™ï¸</span> Speak
    </button>
  </div>

  <!-- MAIN LESSON CARD -->
  <main class="card">
    <!-- OVERVIEW -->
    <div class="card-inner" id="tab-overview">
      <h2 class="section-title">1. O kit de sobrevivÃªncia em inglÃªs ğŸ˜…</h2>
      <p class="section-sub">
        Brasileiro trava porque nÃ£o sabe como dizer â€œnÃ£o entendiâ€ sem parecer rude ou â€œburroâ€.
        Aqui vocÃª ganha 3 frases de sobrevivÃªncia, com explicaÃ§Ã£o brasileira:
      </p>

      <div class="highlight-expression">
        I donâ€™t understand. Â· Could you repeat, please? Â· Repeat, please.
        <button class="play-btn" onclick="speak(`I don't understand. Could you repeat, please? Repeat, please.`)">
          ğŸ”Š Ouvir as 3
        </button>
      </div>

      <div class="two-cols">
        <div class="sub-block">
          <div class="sub-title">1.1. O que cada frase faz (em portuguÃªs claro)</div>
          <p class="example-en">
            1ï¸âƒ£ <span class="good">I donâ€™t understand.</span><br>
            <span class="example-pt">= Eu nÃ£o entendo / nÃ£o estou entendendo.</span><br><br>
            2ï¸âƒ£ <span class="good">Could you repeat, please?</span><br>
            <span class="example-pt">= VocÃª poderia repetir, por favor? (educado, perfeito em reuniÃ£o).</span><br><br>
            3ï¸âƒ£ <span class="good">Repeat, please.</span><br>
            <span class="example-pt">= Repete, por favor. (curto, direto, ok em contexto informal).</span>
          </p>
        </div>

        <div class="sub-block">
          <div class="sub-title">1.2. Mantra rÃ¡pido â€“ use SEM vergonha</div>
          <p class="example-en">
            â€œ<span class="good">Sorry, I donâ€™t understand.</span>â€<br>
            â€œ<span class="good">Could you repeat, please?</span>â€<br>
            â€œ<span class="good">Repeat, please.</span>â€
          </p>
          <p class="example-pt">
            Essas frases mostram que vocÃª quer entender. Elas nÃ£o sÃ£o falta de inteligÃªncia,
            sÃ£o ferramenta de comunicaÃ§Ã£o. Quanto mais vocÃª usa, mais vocÃª aprende.
          </p>
        </div>
      </div>
    </div>

    <!-- WHY -->
    <div class="card-inner" id="tab-why" style="display:none;">
      <h2 class="section-title">2. Por que brasileiro erra tanto essas frases?</h2>
      <p class="section-sub">
        Porque o cÃ©rebro traduz automÃ¡tico â€œEu nÃ£o entendoâ€ â†’ â€œI donâ€™t understood / I no understandâ€.
        Vamos desmontar isso.
      </p>

      <div class="sub-block">
        <div class="sub-title">2.1. Erros reais que aparecem todo dia</div>
        <p class="example-en">
          âŒ I donâ€™t understood.<br>
          âŒ I no understand.<br>
          âŒ Repeat again, please.<br>
          âŒ Can you repeat for me?
        </p>
        <p class="example-pt">
          SÃ£o versÃµes â€œinglÃªs de brasileiroâ€, mas para um nativo soa estranho, infantil ou sÃ³ errado.
        </p>
      </div>

      <div class="sub-block">
        <div class="sub-title">2.2. VersÃµes corretas e naturais</div>
        <p class="example-en">
          âœ… <span class="good">I donâ€™t understand.</span><br>
          âœ… <span class="good">I didnâ€™t understand.</span> (passado)<br>
          âœ… <span class="good">Could you repeat, please?</span><br>
          âœ… <span class="good">Could you say that again, please?</span><br>
          âœ… <span class="good">I didnâ€™t catch that.</span>
        </p>
        <p class="example-pt">
          Troque â€œdonâ€™t understoodâ€ por â€œdonâ€™t understandâ€.<br>
          Troque â€œrepeat againâ€ por â€œrepeatâ€ ou â€œsay that againâ€.
        </p>
      </div>
    </div>

    <!-- PATTERNS -->
    <div class="card-inner" id="tab-patterns" style="display:none;">
      <h2 class="section-title">3. Patterns â€“ modelos prontos pro cÃ©rebro BR</h2>
      <p class="section-sub">
        NÃ£o decore palavra solta. Decore frases-modelo que vocÃª pode adaptar 100 vezes.
      </p>

      <div class="sub-block">
        <div class="sub-title">3.1. PadrÃ£o â€œI donâ€™t understand + Xâ€</div>
        <p class="example-en">
          I donâ€™t understand <span class="good">this part</span>.<br>
          I donâ€™t understand <span class="good">this word</span>.<br>
          I donâ€™t understand <span class="good">what you mean</span>.<br>
          I donâ€™t understand <span class="good">when people speak fast</span>.
        </p>
        <p class="example-pt">
          FÃ³rmula: <strong>I donâ€™t understand + coisa especÃ­fica</strong>.<br>
          Treine completar essa frase com situaÃ§Ãµes suas.
        </p>
        <button class="play-btn" onclick="speak(`I don't understand this part. I don't understand this word. I don't understand what you mean.`)">
          ğŸ”Š Ouvir
        </button>
      </div>

      <div class="sub-block">
        <div class="sub-title">3.2. PadrÃ£o â€œCould you repeat, please?â€</div>
        <p class="example-en">
          Could you repeat, please?<br>
          Could you repeat <span class="good">that</span>, please?<br>
          Could you repeat <span class="good">your name</span>, please?<br>
          Could you repeat <span class="good">the last part</span>, please?
        </p>
        <p class="example-pt">
          FÃ³rmula: <strong>Could you repeat + objeto + please?</strong><br>
          Em vez de â€œrepeat againâ€, use â€œrepeatâ€ ou â€œsay that againâ€.
        </p>
        <button class="play-btn" onclick="speak(`Could you repeat, please? Could you repeat that, please? Could you repeat your name, please?`)" >
          ğŸ”Š Ouvir
        </button>
      </div>
    </div>

    <!-- REAL SITUATIONS -->
    <div class="card-inner" id="tab-situations" style="display:none;">
      <h2 class="section-title">4. Cenas reais â€“ viva a situaÃ§Ã£o na sua cabeÃ§a ğŸ¬</h2>
      <p class="section-sub">
        Imagine e sinta essas cenas. Fale as frases como se vocÃª estivesse lÃ¡ agora.
      </p>

      <div class="sub-block">
        <div class="sub-title">4.1. ReuniÃ£o no trabalho (call em inglÃªs) ğŸ’¼</div>
        <p class="example-en">
          A pessoa fala um slide muito rÃ¡pido. VocÃª respira e diz:<br><br>
          <span class="good">â€œSorry, Iâ€™m not sure I understand this part. Could you repeat, please?â€</span>
        </p>
        <p class="example-pt">
          VocÃª nÃ£o se desculpa por ser â€œruim em inglÃªsâ€, sÃ³ pede clareza. Isso Ã© profissional.
        </p>
      </div>

      <div class="sub-block">
        <div class="sub-title">4.2. Aeroporto âœˆï¸</div>
        <p class="example-en">
          O atendente fala o portÃ£o baixinho, vocÃª nÃ£o entende. VocÃª diz:<br><br>
          <span class="good">â€œSorry, I didnâ€™t catch that. Could you repeat, please?â€</span>
        </p>
      </div>

      <div class="sub-block">
        <div class="sub-title">4.3. Amigo estrangeiro no bar ğŸ»</div>
        <p class="example-en">
          MÃºsica alta, ele conta uma histÃ³ria e vocÃª nÃ£o entende a piada. VocÃª diz:<br><br>
          <span class="good">â€œI donâ€™t get it. Repeat, please.â€</span>
        </p>
        <p class="example-pt">
          Aqui â€œI donâ€™t get itâ€ Ã© bem natural, informal. Em reuniÃ£o muito formal, prefira â€œI donâ€™t understandâ€.
        </p>
      </div>

      <div class="sub-block">
        <div class="sub-title">4.4. Aula com professor ğŸ‘©â€ğŸ«</div>
        <p class="example-en">
          Professor explica gramÃ¡tica, vocÃª ficou perdido:<br><br>
          <span class="good">â€œSorry, I donâ€™t understand this part. Could you explain again?â€</span>
        </p>
      </div>
    </div>

    <!-- TONE -->
    <div class="card-inner" id="tab-tone" style="display:none;">
      <h2 class="section-title">5. Tom de voz: educado x neutro x informal ğŸ­</h2>
      <p class="section-sub">
        Mesma ideia, 4 roupas diferentes. Escolha a frase pelo ambiente: formal, neutro, informal.
      </p>

      <div class="sub-block">
        <div class="sub-title">5.1. Escala de formalidade</div>
        <ul style="font-size:0.9rem;line-height:1.7;margin-left:18px;">
          <li>
            <span class="good">Iâ€™m not sure I understand.</span> â€“ formal suave, Ã³timo em reuniÃ£o.<br>
            <button class="play-btn" onclick="speak(`I'm not sure I understand.`)">ğŸ”Š Play</button>
          </li>
          <li>
            <span class="good">Iâ€™m not sure I follow.</span> â€“ bem corporativo, muito usado em call.<br>
            <button class="play-btn" onclick="speak(`I'm not sure I follow.`)">ğŸ”Š Play</button>
          </li>
          <li>
            <span class="good">I donâ€™t understand.</span> â€“ neutro, bom em aula ou quando vocÃª jÃ¡ tem rapport.<br>
            <button class="play-btn" onclick="speak(`I don't understand.`)">ğŸ”Š Play</button>
          </li>
          <li>
            <span class="good">I donâ€™t get it.</span> â€“ informal, tipo â€œnÃ£o saqueiâ€.<br>
            <button class="play-btn" onclick="speak(`I don't get it.`)">ğŸ”Š Play</button>
          </li>
        </ul>
        <p class="example-pt">
          Regra mental: reuniÃ£o importante â†’ â€œIâ€™m not sure I understandâ€; bar com amigo â†’ â€œI donâ€™t get itâ€.
        </p>
      </div>
    </div>

    <!-- WRITING -->
    <div class="card-inner" id="tab-write" style="display:none;">
      <h2 class="section-title">6. Escrita â€“ faÃ§a sua mÃ£o lembrar âœï¸</h2>
      <p class="section-sub">
        Agora vocÃª escreve as frases, misturando inglÃªs e sua vida real. Isso fixa no cÃ©rebro.
      </p>

      <div class="sub-block">
        <div class="sub-title">6.1. Copie 5 vezes (sem pensar, como caligrafia)</div>
        <p class="example-en">
          1. I donâ€™t understand.<br>
          2. Could you repeat, please?<br>
          3. Sorry, I didnâ€™t catch that.<br>
          4. Iâ€™m not sure I understand this part.<br>
          5. Repeat, please.
        </p>
      </div>

      <div class="sub-block">
        <div class="sub-title">6.2. Agora personalize</div>
        <p class="example-pt">
          Escreva abaixo pelo menos 3 frases suas, com contexto real (trabalho, viagem, amigos).
          Exemplo: â€œIn meetings, I often say: â€˜Could you repeat, please?â€™â€
        </p>
        <textarea id="write-area" placeholder="Escreva aqui suas frases com I donâ€™t understand / Could you repeat, please? / Repeat, please."></textarea>
        <div id="char-counter" class="char-counter">0 caracteres</div>
      </div>
    </div>

    <!-- PRACTICE / SPEAK -->
    <div class="card-inner" id="tab-practice" style="display:none;">
      <h2 class="section-title">7. Fala â€“ coloque na boca ğŸ™ï¸</h2>
      <p class="section-sub">
        Use o botÃ£o como compromisso: enquanto estiver vermelho, vocÃª fala em voz alta sem parar
        essas frases, imaginando situaÃ§Ãµes reais.
      </p>

      <div class="sub-block">
        <div class="sub-title">7.1. Mantra de sobrevivÃªncia</div>
        <p class="example-en">
          â€œI donâ€™t understand.â€<br>
          â€œCould you repeat, please?â€<br>
          â€œRepeat, please.â€<br>
          â€œSorry, I didnâ€™t catch that.â€
        </p>
        <button class="play-btn" onclick="speak(`I don't understand. Could you repeat, please? Repeat, please. Sorry, I didn't catch that.`)">
          ğŸ”Š Ouvir o mantra
        </button>
      </div>

      <div class="sub-block">
        <div class="sub-title">7.2. SimulaÃ§Ã£o relÃ¢mpago (30 segundos)</div>
        <p class="example-pt">
          1) Imagine uma call do trabalho agora. Diga em voz alta:<br>
          <span class="good">â€œIâ€™m not sure I understand this part. Could you repeat, please?â€</span><br><br>
          2) Imagine estar no aeroporto, nÃ£o ouviu o portÃ£o:<br>
          <span class="good">â€œSorry, I didnâ€™t catch that. Could you repeat, please?â€</span><br><br>
          3) Imagine um amigo no bar, mÃºsica alta:<br>
          <span class="good">â€œI donâ€™t get it. Repeat, please.â€</span>
        </p>
      </div>

      <div class="practice-row">
        <button class="record-btn" id="record-btn" onclick="toggleRecord()">
          <span id="record-dot">âºï¸</span>
          <span id="record-text">Marcar momento de prÃ¡tica</span>
        </button>
        <div class="audio-wrapper">
          <div id="audio-status">
            Nenhum Ã¡udio real Ã© gravado â€“ use o botÃ£o como compromisso pessoal: enquanto estiver
            vermelho, vocÃª fala em voz alta por 30â€“60 segundos sÃ³ essas frases.
          </div>
          <button class="delete-btn" onclick="resetPractice()">Resetar status de prÃ¡tica</button>
        </div>
      </div>
    </div>
  </main>

  <!-- NAV + EXPORT + FOOTER -->
  <div class="footer-nav">
    <button class="secondary-btn" onclick="prevTab()">â¬…ï¸ Voltar aba</button>
    <button class="primary-btn" onclick="nextTab()">PrÃ³xima aba â¡ï¸</button>
  </div>

  <div class="export-bar">
    <span>ğŸ“‹ Copiar para planilha:</span>
    <button class="small-btn" onclick="copyToSpreadsheet()">Copiar texto da liÃ§Ã£o</button>
    <span>â€¢ ğŸ“„ PDF: use o botÃ£o â€œExportar em PDFâ€ no topo (impressÃ£o do navegador).</span>
  </div>

  <footer class="footer-meta">
    Criado para o app futurista <span class="brand">NEXTATION</span> â€“ frases de sobrevivÃªncia
    do jeito que o cÃ©rebro brasileiro entende. ğŸš€
  </footer>
</div>

<script>
  // Ordem das abas para os botÃµes PrÃ³xima/Voltar
  const tabOrder = ['overview','why','patterns','situations','tone','write','practice'];

  function showTab(id){
    document.querySelectorAll('.card-inner').forEach(el => el.style.display = 'none');
    const target = document.getElementById('tab-' + id);
    if(target) target.style.display = 'block';

    document.querySelectorAll('.tab').forEach(t => {
      t.classList.remove('active');
      if(t.dataset.tab === id) t.classList.add('active','completed');
    });
  }

  function nextTab(){
    const active = document.querySelector('.tab.active');
    const idx = tabOrder.indexOf(active.dataset.tab);
    if(idx < tabOrder.length - 1) showTab(tabOrder[idx + 1]);
  }

  function prevTab(){
    const active = document.querySelector('.tab.active');
    const idx = tabOrder.indexOf(active.dataset.tab);
    if(idx > 0) showTab(tabOrder[idx - 1]);
  }

  // Speech playback
  function speak(text){
    if(!('speechSynthesis' in window)){
      alert('Seu navegador nÃ£o suporta Ã¡udio (SpeechSynthesis).');
      return;
    }
    window.speechSynthesis.cancel();
    const u = new SpeechSynthesisUtterance(text);
    u.lang = 'en-US';
    u.rate = 0.98;
    u.pitch = 1.0;
    window.speechSynthesis.speak(u);
  }

  // Writing counter
  const writeArea = document.getElementById('write-area');
  const counterEl = document.getElementById('char-counter');
  if(writeArea && counterEl){
    writeArea.addEventListener('input', () => {
      counterEl.textContent = writeArea.value.length + ' caracteres';
    });
  }

  // Practice "record" simulation
  let recording = false;
  function toggleRecord(){
    recording = !recording;
    const btn = document.getElementById('record-btn');
    const txt = document.getElementById('record-text');
    const dot = document.getElementById('record-dot');
    const status = document.getElementById('audio-status');

    if(recording){
      btn.classList.add('recording');
      dot.textContent = 'ğŸ”´';
      txt.textContent = 'Praticando agora...';
      status.textContent = 'Momento de prÃ¡tica: fale em voz alta suas frases com I donâ€™t understand / Could you repeat, please? / Repeat, please por pelo menos 30 segundos.';
    } else {
      btn.classList.remove('recording');
      dot.textContent = 'âºï¸';
      txt.textContent = 'Marcar momento de prÃ¡tica';
      status.textContent = 'PrÃ¡tica pausada. Clique de novo quando quiser focar na fala.';
    }
  }

  function resetPractice(){
    recording = false;
    const btn = document.getElementById('record-btn');
    const txt = document.getElementById('record-text');
    const dot = document.getElementById('record-dot');
    const status = document.getElementById('audio-status');
    btn.classList.remove('recording');
    dot.textContent = 'âºï¸';
    txt.textContent = 'Marcar momento de prÃ¡tica';
    status.textContent = 'Nenhum Ã¡udio real Ã© gravado â€“ use o botÃ£o como compromisso de prÃ¡tica em voz alta.';
  }

  // Copy lesson text for spreadsheet
  function copyToSpreadsheet(){
    const text = collectLessonText();
    navigator.clipboard.writeText(text).then(()=>{
      alert('ConteÃºdo copiado! Cole (Ctrl+V) na sua planilha.');
    }).catch(()=>{
      alert('NÃ£o foi possÃ­vel copiar automaticamente. Selecione e copie manualmente.');
    });
  }

  function collectLessonText(){
    const blocks = [];
    document.querySelectorAll('.card-inner').forEach(inner=>{
      const clone = inner.cloneNode(true);
      clone.querySelectorAll('button').forEach(b=>b.remove());
      clone.querySelectorAll('.pill-tag').forEach(p=>p.remove());
      blocks.push(clone.innerText.trim());
    });
    return blocks.join('\n\n-----------------------------\n\n');
  }
</script>
</body>
</html>
